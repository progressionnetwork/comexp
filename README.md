[![build & deploy](https://github.com/progressionnetwork/comexp/actions/workflows/deploy.yml/badge.svg)](https://github.com/progressionnetwork/comexp/actions/workflows/deploy.yml)

# Платформа «Коммунальный Эксперт»

## ЛИДЕРЫ ЦИФРОВОЙ ТРАНСФОРМАЦИИ 2023
## Задача: Сервис прогнозирования работ по содержанию и ремонту объектов городского хозяйства 
 
### Команда Интеллект Групп \ 2023.

![alt text](https://github.com/progressionnetwork/comexp/blob/main/screens/comexp.png?raw=true)

### Суть проекта:
Платформа «Коммунальный Экспер» агрегирует данные об объектах, инцидентах и ремонтных работах из различных источников, связывает их и обрабатвыает с целью рекомендаций по будущим работам для предотвращения или более быстрого реагирования на инциденты.

### Задачи платформы:

Оптимизация работы сотрудников ЖКХ за счет автоматизации и предиктивного анализа событий и инцидентов, прогнозирования даты и времени работ с помощью анализа широкого спетра данных.
Повышение эффективности работ благодаря умному планированию и правильному распределению ресурсов.


### Описание алгоритма получения результата:
Платформа позволяет пользователям загружать данные об инцидентах, объектах и работах, после чего идет предобработка данных и размещение в базе данных.
Из предоставленных данных выделяются основные сущности: объекты, инциденты и работы и их параметры. 
Далее, в соотвествии с параметром UNOM происходит объединение в единую структуру.
Из базы данных данные передаются рекомендательным алгоритмам и алгоритмам предсказания событий и дат. Результаты привязываются к объектам.
При появлении новых данных, алгортмы предсказания могут дообучаться и обновлять свои модели.

![alt text](https://github.com/progressionnetwork/comexp/blob/main/screens/data_architecture.png?raw=true)

### Сложности при обработке данных:
- Мультистраничные файлы XLSX, разрозненные данные
- Названия колонок приходилось сопоставлять с фактическими данными из других файлов
- Пропуски в данных
- Различные форматы адресов
- Пропуски в датах


## Dashboard:
Кабинет пользователя.
![alt text](https://github.com/progressionnetwork/comexp/blob/main/screens/data_architecture.png?raw=true)

## Возможности сервиса:
- Живая статистика по работам 
- Подстветка объектов на карте
- Прогнозирование даты обслуживания для объектов
- Рекомендации по дате отклонений от планового обслуживания
- Предсказание даты НАЧАЛА работ по заявке
- Предсказание даты ЗАКРЫТИЯ заявки
- Предсказание даты ЗАВЕРШЕНИЯ работ по заявке
- Предсказание адреса следующих инцидентов
- Рекомендация по предотвращению инцидента
- Использование микросервисной архитектуры
- Контейнирезация для быстрой развертки
- Подготовлен API для последующего внедрения с другими целевыми платформами
- Использование статистических моделей для вывления сущностей
- Многопоточная, быстрая обработка данных


## Описание алгоритма получения результата:
Получив загруженный пользователем файл(ы) данные....

## API сервис:
Для работы с API сервисом можно использовать логины указанные выше. 
Вся документация по работе с сервисом указана в swagger по адресу:
http://api.comexp.intellectg.ru/docs

Авторизация в сервисе используется с заголовком Authorization: Token <ваш токен>.
Установка на собственных ресурсах
Для этого необходимо иметь устновленый docker и/или docker-compose выполнить
следующие команды:

- git clone https://github.com/progressionnetwork/comexp
- cd comexp
- docker compose –f docker-compose.dev.yml build —no-cache —pull
- docker compose –f docker-compose.dev.yml up –d

Также для разворачивания только API сервиса можно использовать файл docker-compose.back.yml

## Логины и пароли
Для работы с сервисом созданы демо пользователи (для полноценной демонстрации
лучше использовать пользователя superadmin@intellectg.ru):
- Логин: superadmin@intellectg.ru
- Пароль: password

## Полезные ссылки
- Веб сервис: https://comexp.intellectg.ru/
- API сервис: http://api.comexp.intellectg.ru/
- Документация API сервиса: http://api.comexp.intellectg.ru/docs
- Мониторинг задач:  http://dashboard.comexp.intellectg.ru/
- Github: https://github.com/progressionnetwork/comexp

## Стек используемых технологий и библиотек:
- Python/Pandas/regex
- FastAPI
- Sbercloud IaaS/PaaS Infrastructure
- Docker
- React js \ redux
- Catboost, sklearn
- Nginx
- Postgresql
- Rabbitmq

